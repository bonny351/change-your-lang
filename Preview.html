<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Spa Music ‚Äì Web</title>

<style>
html,body{
  margin:0;
  width:100%;
  height:100%;
  background:#031018;
  font-family:"Segoe UI",Arial,sans-serif;
  color:#eafff7;
  overflow:hidden;
}
.hidden{display:none}

/* Background */
body::before{
  content:"";
  position:absolute;
  inset:0;
  background:
    radial-gradient(circle at 50% 40%, rgba(0,255,200,.18), transparent 60%),
    linear-gradient(#020b12,#04202a);
  z-index:-2;
}

/* Home */
#home{
  position:absolute;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  gap:80px;
}
.profile{
  width:200px;
  height:200px;
  border-radius:50%;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:26px;
  cursor:pointer;
  box-shadow:0 0 40px currentColor;
}
.isaiah{color:#4cffc3;background:radial-gradient(circle,#2bffc6,#0a4f3a)}
.guest{color:#3ecbff;background:radial-gradient(circle,#38b6ff,#0a3650)}
.party{color:#b77cff;background:radial-gradient(circle,#b38cff,#3a1c6b)}

/* Player */
#player{
  position:absolute;
  inset:0;
  padding:40px 60px;
}
.top{
  display:flex;
  align-items:center;
  gap:25px;
}
.avatar{
  width:90px;
  height:90px;
  border-radius:50%;
  background:radial-gradient(circle,#4cffc3,#0a4f3a);
  box-shadow:0 0 30px #4cffc3;
}
.title{font-size:34px}

.now{
  margin-top:35px;
  display:flex;
  gap:40px;
}
.cover{
  width:220px;
  height:220px;
  border-radius:18px;
  background:linear-gradient(135deg,#0aa,#054);
  box-shadow:0 0 45px rgba(0,255,200,.6);
}
.songTitle{font-size:36px}
.songArtist{opacity:.7;margin-top:6px}

/* Controls */
.controls{
  margin-top:25px;
  display:flex;
  gap:30px;
}
.ctrl{
  font-size:32px;
  padding:16px 18px;
  border-radius:50%;
  background:rgba(0,255,200,.15);
  box-shadow:0 0 22px rgba(0,255,200,.45);
  cursor:pointer;
}

/* Playlists */
.playlists{
  margin-top:40px;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:35px;
}
.panel{
  background:rgba(0,255,200,.08);
  border-radius:18px;
  padding:20px;
}
.panel h3{margin:0 0 10px}
.list{
  max-height:220px;
  overflow-y:auto;
}
.track{
  padding:10px 0;
  border-bottom:1px solid rgba(255,255,255,.1);
  cursor:pointer;
}

/* Search */
#search{
  width:100%;
  padding:12px;
  font-size:18px;
  border-radius:12px;
  border:none;
  margin-bottom:10px;
}

/* Footer */
.footer{
  position:absolute;
  bottom:30px;
  left:60px;
  right:60px;
  display:flex;
  justify-content:space-between;
}
.btn{
  padding:14px 28px;
  font-size:18px;
  border-radius:14px;
  background:rgba(0,255,200,.2);
  cursor:pointer;
}
</style>
</head>

<body>

<!-- HOME -->
<div id="home">
  <div class="profile isaiah" onclick="openProfile('isaiah')">Isaiah</div>
  <div class="profile guest" onclick="openProfile('guest')">Guest</div>
  <div class="profile party" onclick="openProfile('party')">Party</div>
</div>

<!-- PLAYER -->
<div id="player" class="hidden">
  <div class="top">
    <div class="avatar"></div>
    <div class="title" id="who"></div>
  </div>

  <div class="now">
    <div class="cover"></div>
    <div>
      <div class="songTitle" id="songTitle">Select a song</div>
      <div class="songArtist">GitHub Stream</div>

      <div class="controls">
        <div class="ctrl" onclick="audio.currentTime=0">‚èÆ</div>
        <div class="ctrl" onclick="toggle()">‚èØ</div>
        <div class="ctrl" onclick="audio.currentTime=audio.duration">‚è≠</div>
        <div class="ctrl" onclick="audio.volume=Math.min(1,audio.volume+.1)">üîä</div>
      </div>
    </div>
  </div>

  <div class="playlists">
    <div class="panel">
      <h3>Playlist</h3>
      <input id="search" placeholder="Search songs‚Ä¶">
      <div class="list" id="songs"></div>
    </div>
    <div class="panel">
      <h3>Now Playing</h3>
      <div class="list" id="nowList"></div>
    </div>
  </div>

  <div class="footer">
    <div class="btn">Shuffle</div>
    <div class="btn" onclick="goHome()">Back to Profiles</div>
  </div>
</div>

<audio id="audio"></audio>

<script>
const USER="YOURNAME";
const REPO="spa-music";

let currentSongs=[];
let currentProfile="";

function openProfile(profile){
  currentProfile=profile;
  home.classList.add("hidden");
  player.classList.remove("hidden");
  who.textContent="Now Playing for "+profile;
  loadSongs();
}

function goHome(){
  audio.pause();
  player.classList.add("hidden");
  home.classList.remove("hidden");
}

async function loadSongs(){
  const r=await fetch(`https://api.github.com/repos/${USER}/${REPO}/contents/${currentProfile}`);
  const data=await r.json();
  currentSongs=data.filter(f=>f.name.endsWith(".mp3"));
  render(currentSongs);
}

function render(list){
  songs.innerHTML="";
  list.forEach(f=>{
    const d=document.createElement("div");
    d.className="track";
    d.textContent=f.name.replace(".mp3","");
    d.onclick=()=>play(f);
    songs.appendChild(d);
  });
}

function play(file){
  const url=`https://raw.githubusercontent.com/${USER}/${REPO}/main/${currentProfile}/${file.name}`;
  audio.src=url;
  audio.play();
  songTitle.textContent=file.name.replace(".mp3","");
}

function toggle(){
  audio.paused?audio.play():audio.pause();
}

search.oninput=e=>{
  const q=e.target.value.toLowerCase();
  render(currentSongs.filter(f=>f.name.toLowerCase().includes(q)));
};
</script>

</body>
</html>
